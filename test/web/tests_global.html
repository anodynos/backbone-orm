<!-- runs from _build/test/web -->
<!DOCTYPE HTML>
<html>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<head>
  <title>Backbone-ORM</title>
  <script src="../../../bower_components/underscore/underscore.js"></script>
  <script src="../../../bower_components/backbone/backbone.js"></script>
  <script src="../../../bower_components/moment/moment.js"></script>
  <script src="../../../bower_components/inflection/lib/inflection.js"></script>
  <script src="../../../stream.js"></script>
  <script src="../../backbone-orm.js"></script>
  <script>
    var Test = Backbone.Model.extend({
      urlRoot: '/api/tests',
      model_name: 'Test'
    });
    Test.prototype.sync = BackboneORM.sync(Test);

    var test = new Test({name: 'Bob'});
    test.save(function(err){
      Test.stream()
        .on('data', function(model){ console.log("Model: " + model.get('name')); })
        .on('error', function(err){ console.log("An error is NOT expected: " + err); });
    });
  </script>
</head>
